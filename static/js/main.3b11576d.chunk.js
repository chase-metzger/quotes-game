(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,n){e.exports=n(77)},40:function(e,t,n){},44:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(12),o=n.n(s),u=(n(40),n(16)),c=n(7),i=n(13),l=n.n(i),m=n(28),g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.useState)(!1),s=Object(c.a)(r,2),o=s[0],u=s[1],i=Object(a.useState)(t),g=Object(c.a)(i,2),f=g[0],h=g[1];return Object(a.useEffect)(function(){function t(){return(t=Object(m.a)(l.a.mark(function t(){var a,r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,n);case 3:if(!(a=t.sent).ok){t.next=11;break}return t.next=7,a.json();case 7:r=t.sent,h(r),t.next=12;break;case 11:h(null);case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),h(t.t0);case 17:case"end":return t.stop()}},t,this,[[0,14]])}))).apply(this,arguments)}u(!0),function(){t.apply(this,arguments)}(),u(!1)},[e]),{loading:o,result:f}},f=function(e,t){var n=Object(a.useState)(function(){try{var n=window.sessionStorage.getItem(e);return null!==n&&void 0!==n?JSON.parse(n):t}catch(a){return a}}),r=Object(c.a)(n,2),s=r[0],o=r[1];return[s,function(t){o(t),console.log(t),window.sessionStorage.setItem(e,JSON.stringify(t))}]},h=n(15),d=(n(43),n(44),r.a.createContext({currentGuess:{text:"",isRight:!1,messageFromServer:""},quote:"",remainingGuesses:0})),p=n(33),v=n(8),b=n.n(v),E=n(14),O=n.n(E),j=n(29),y=n.n(j),w=n(30),x=n.n(w),k=n(31),S=n.n(k);function G(e){var t=e.onGuess,n=(Object(p.a)(e,["onGuess"]),Object(a.useContext)(d)),s=n.quote,o=n.currentGuess,u=n.correctAnswer,c=n.remainingGuesses,i=n.setCurrentGuessText,l=n.restartGame,m=Object(a.useRef)(null);return Object(a.useEffect)(function(){var e=function(e){e.preventDefault(),13===e.keyCode&&""!==o.text.trim()&&(t(o.text),m.current.focus())};return m.current.addEventListener("keyup",e),function(){return m.current.removeEventListener("keyup",e)}}),r.a.createElement(b.a,{className:"mx-auto",style:{width:"24rem"}},r.a.createElement(b.a.Header,null,"Famous Quote Guessing Game"),r.a.createElement(b.a.Body,null,r.a.createElement(b.a.Title,null,"Can you guess who said this?"),r.a.createElement(b.a.Text,null,s),r.a.createElement(O.a,{size:"sm",className:"mb-3 mx-auto"},r.a.createElement(x.a,{placeholder:"Enter guess...",ref:m,value:o.text,as:"input","aria-label":"Guess input",onChange:function(e){return i(e.target.value)}}),r.a.createElement(O.a.Append,null,function(){var e="primary",n=function(){return t(o.text)},a="Guess";return o.isRight?(e="success",n=l,a="Play again?"):u&&(e="danger",n=l,a="Play again?"),r.a.createElement(y.a,{variant:e,onClick:n},a)}())),o.messageFromServer&&r.a.createElement(S.a,{variant:o.isRight?"success":"danger"},o.messageFromServer),c>0&&r.a.createElement(b.a.Text,null,"Remaining guesses: ",c)))}var _=n(32),C=n.n(_);function q(e){var t=e.quote;return r.a.createElement(b.a,{className:"mx-auto",style:{width:"30rem",marginTop:"5rem"}},r.a.createElement(b.a.Body,null,r.a.createElement(C.a,null,r.a.createElement("h1",null,"The answer was ",t.author),r.a.createElement("p",null,"Learn more about this person: ",r.a.createElement("a",{href:t["bio-link"],rel:"noopener noreferrer",target:"_blank"},t["bio-link"])))))}var T="https://chasemetzger-quotes-game.herokuapp.com",R=h.b.div({enter:{y:0,transition:{duration:250,stiffness:100,type:"spring",y:{ease:"easeInOut"}}},exit:{y:"100%",transition:{duration:250,ease:"easeInOut"}}});var F=function(){var e=Object(a.useState)("BLAH"),t=Object(c.a)(e,2),n=t[0],s=t[1],o=f("gameID",null),i=Object(c.a)(o,2),l=i[0],m=i[1],p=Object(a.useState)(0),v=Object(c.a)(p,2),b=v[0],E=v[1],O=Object(a.useState)(null),j=Object(c.a)(O,2),y=j[0],w=j[1],x=g(T+"/start-game",{game_id:null,quote:n}),k=x.loading,S=x.result,_=Object(a.useState)({text:"",isRight:!1,messageFromServer:""}),C=Object(c.a)(_,2),F=C[0],N=C[1];function I(e){N(Object(u.a)({},F,{messageFromServer:e.message,isRight:e.is_right,text:""})),E(e.remaining_guesses),e.correct_answer&&w(e.correct_answer)}return Object(a.useEffect)(function(){k||(s(S.quote),m(S.game_id),E(S.remaining_guesses))},[S]),r.a.createElement("div",{id:"app"},r.a.createElement(d.Provider,{value:{currentGuess:F,correctAnswer:y,quote:n,remainingGuesses:b,setCurrentGuessText:function(e){N(Object(u.a)({},F,{text:e}))},restartGame:function(){fetch(T+"/start-game",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:l})}).then(function(e){return e.json()}).then(function(e){N({text:"",isRight:!1,messageFromServer:""}),s(e.quote),E(e.remaining_guesses),w(null)}).catch(console.log)}}},r.a.createElement(h.a,{animateOnMount:!0},r.a.createElement(R,{key:"game animator"},r.a.createElement(G,{onGuess:function(e){""!==e.trim()&&fetch(T+"/check-guess",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({game_id:l,guess:e})}).then(function(e){return e.json()}).then(I).catch(console.log)}}))),y&&r.a.createElement(q,{quote:y})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.3b11576d.chunk.js.map